<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail d'Applications - Marchés Publics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#4F46E5',
                            600: '#4338CA',
                        },
                        secondary: {
                            500: '#EC4899',
                            600: '#DB2777',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        #vanta-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .app-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .app-card:hover {
            transform: translateY(-8px) scale(1.02);
        }
        
        .password-input:focus {
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3);
        }
        
        .animate-bounce-once {
            animation: bounce-once 0.5s;
        }
        
        @keyframes bounce-once {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .gradient-text {
            background-image: linear-gradient(45deg, #4F46E5, #EC4899);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
    </style>
</head>
<body>
    <div id="vanta-bg"></div>
    
    <div class="min-h-screen flex items-center justify-center p-4">
        <div class="w-full max-w-4xl">
            <!-- Password Section -->
            <div class="glass-card p-8 mb-8" id="passwordSection">
                <div class="text-center mb-6">
                    <h1 class="text-3xl font-bold gradient-text mb-2">DIVISION DES AFFAIRES FINANCIERES</h1>
                    <p class="text-xl font-bold gradient-text mb-1">SERVICE DE LA COMMANDE PUBLIQUE</p>
                </div>
                
                <form class="space-y-6" id="passwordForm">
                    <div class="space-y-2">
                        <label for="passwordInput" class="block text-sm font-medium text-gray-700">Mot de passe</label>
                        <div class="relative">
                            <input type="password" id="passwordInput" class="password-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition" placeholder="••••••••" autocomplete="off" required>
                            <button type="button" id="passwordToggle" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
                                <i data-feather="eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-3 px-4 rounded-lg font-medium hover:shadow-lg transition duration-300 transform hover:-translate-y-1">
                        Accéder au portail
                    </button>
                    
                    <div id="errorMessage" class="hidden bg-red-50 text-red-600 p-3 rounded-lg text-sm">
                        Mot de passe incorrect. Veuillez réessayer.
                    </div>
                    
                    <div id="attemptsCounter" class="text-center text-sm text-gray-500">
                        Tentatives restantes: 3
                    </div>
                </form>
            </div>
            
            <!-- Apps Container (hidden initially) -->
            <div id="appContainer" class="hidden">
                <div class="glass-card p-8 mb-8">
                    <h1 class="text-3xl font-bold text-center gradient-text mb-8">Applications Marchés Publics</h1>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8" id="appsGrid">
                        <!-- Bouton pour Générateur de Documents -->
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-gradient-to-r from-[#AB1846] to-[#D96914] rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="file-text" class="text-white w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Générateur de Documents</h3>
                            <p class="text-gray-600 text-center mb-4">Création et gestion des documents de marchés publics</p>
                            <button id="generateurBtn" class="w-full bg-gradient-to-r from-[#AB1846] to-[#D96914] text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <!-- Bouton pour Gestion des Appels d'Offres -->
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-gradient-to-r from-[#AB1846] to-[#D96914] rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="clipboard" class="text-white w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">État d'avancement DAO</h3>
                            <p class="text-gray-600 text-center mb-4">Suivi des appels d'offres et état d'avancement</p>
                            <button id="daoBtn" class="w-full bg-gradient-to-r from-[#AB1846] to-[#D96914] text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-primary-100 rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="bar-chart-2" class="text-primary-500 w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Situation des Marchés</h3>
                            <p class="text-gray-600 text-center mb-4">Visualisation et analyse des marchés publics en cours</p>
                            <button id="situationBtn" class="w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-purple-100 rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="calendar" class="text-purple-500 w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Gestion des Séances</h3>
                            <p class="text-gray-600 text-center mb-4">Planification et suivi des séances de marchés</p>
                            <button id="seancesBtn" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="database" class="text-blue-500 w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Base des Soumissionnaires</h3>
                            <p class="text-gray-600 text-center mb-4">Gestion de la base de données des fournisseurs</p>
                            <button id="soumissionnairesBtn" class="w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-green-100 rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="dollar-sign" class="text-green-500 w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Référentiel des Prix</h3>
                            <p class="text-gray-600 text-center mb-4">Consultation et gestion du référentiel tarifaire</p>
                            <button id="referentielBtn" class="w-full bg-gradient-to-r from-green-500 to-teal-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                        
                        <div class="app-card glass-card p-6 rounded-xl">
                            <div class="w-14 h-14 bg-orange-100 rounded-full flex items-center justify-center mb-4 mx-auto">
                                <i data-feather="clock" class="text-orange-500 w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-center mb-2">Gestion des Délais</h3>
                            <p class="text-gray-600 text-center mb-4">Suivi et gestion des délais des marchés</p>
                            <button id="delaisBtn" class="w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                                Ouvrir l'application
                            </button>
                        </div>
                    </div>
                    
                    <button id="backBtn" class="hidden mx-auto flex items-center text-gray-600 hover:text-gray-800 transition">
                        <i data-feather="arrow-left" class="mr-2"></i> Retour au portail
                    </button>
                </div>
                
                <!-- Conteneur pour Générateur de Documents -->
                <div id="generateurFrameContainer" class="hidden glass-card p-6">
                    <div style="margin: 20px 0px; text-align: center;">
                        <a href="https://chucp-25.github.io/generateur-documents-chusm" 
                           target="_blank" 
                           style="display: inline-block; background: linear-gradient(50deg, #ab1846, #d96914); color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; font-size: 16px; margin-bottom: 20px;">
                           🔗 Cliquez ici pour ouvrir l'application en plein écran
                        </a>
                    </div>
                    
                    <iframe src="https://chucp-25.github.io/generateur-documents-chusm" 
                            width="100%" 
                            height="800px"
                            style="border: none; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    </iframe>
                </div>
                
                <!-- Conteneur pour État d'avancement DAO -->
                <div id="daoFrameContainer" class="hidden glass-card p-6">
                    <div style="margin: 20px 0px; text-align: center;">
                        <a href="https://chucp-25.github.io/SUIVI-DES-APPELS-D-OFFRES/" 
                           target="_blank" 
                           style="display: inline-block; background: linear-gradient(50deg, rgb(171, 24, 70), rgb(217, 105, 20)); color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; font-size: 16px; margin-bottom: 20px;">
                           🔗 Cliquez ici pour ouvrir l'application en plein écran
                        </a>
                    </div>
                    
                    <iframe height="800px" 
                            src="https://chucp-25.github.io/SUIVI-DES-APPELS-D-OFFRES/" 
                            style="border-radius: 10px; border: none; box-shadow: 0 5px 15px rgba(0,0,0,0.2);" 
                            width="100%">
                    </iframe>
                </div>
                
                <!-- App Frames -->
                <div id="situationFrameContainer" class="hidden glass-card p-6">
                    <div class="mb-4 text-center">
                        <a href="https://chucp-25.github.io/gestion-marches-publics" target="_blank" class="inline-flex items-center bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                            <i data-feather="maximize-2" class="mr-2"></i> Plein écran
                        </a>
                    </div>
                    <iframe src="https://chucp-25.github.io/gestion-marches-publics/" class="w-full h-[600px] rounded-lg border-none shadow-lg"></iframe>
                </div>
                
                <div id="seancesFrameContainer" class="hidden glass-card p-6">
                    <div class="mb-4 text-center">
                        <a href="https://chucp-25.github.io/gestion-des-seances" target="_blank" class="inline-flex items-center bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                            <i data-feather="maximize-2" class="mr-2"></i> Plein écran
                        </a>
                    </div>
                    <iframe src="https://chucp-25.github.io/gestion-des-seances" class="w-full h-[600px] rounded-lg border-none shadow-lg"></iframe>
                </div>
                
                <div id="soumissionnairesFrameContainer" class="hidden glass-card p-6">
                    <div class="mb-4 text-center">
                        <a href="https://chucp-25.github.io/gestion-des-soumissionnaires" target="_blank" class="inline-flex items-center bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                            <i data-feather="maximize-2" class="mr-2"></i> Plein écran
                        </a>
                    </div>
                    <iframe src="https://chucp-25.github.io/gestion-des-soumissionnaires/" class="w-full h-[600px] rounded-lg border-none shadow-lg"></iframe>
                </div>
                
                <div id="referentielFrameContainer" class="hidden glass-card p-6">
                    <div class="mb-4 text-center">
                        <a href="https://chucp-25.github.io/REFERENCECIL-DES-PRIX/" target="_blank" class="inline-flex items-center bg-gradient-to-r from-green-500 to-teal-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                            <i data-feather="maximize-2" class="mr-2"></i> Plein écran
                        </a>
                    </div>
                    <iframe src="https://chucp-25.github.io/REFERENCECIL-DES-PRIX/" class="w-full h-[600px] rounded-lg border-none shadow-lg"></iframe>
                </div>
                
                <div id="delaisFrameContainer" class="hidden glass-card p-6">
                    <div class="mb-4 text-center">
                        <a href="https://chucp-25.github.io/gestion-des-d-lais/" target="_blank" class="inline-flex items-center bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg font-medium text-sm hover:shadow-md transition">
                            <i data-feather="maximize-2" class="mr-2"></i> Plein écran
                        </a>
                    </div>
                    <iframe src="https://chucp-25.github.io/gestion-des-d-lais/" class="w-full h-[600px] rounded-lg border-none shadow-lg"></iframe>
                </div>
            </div>
            
            <!-- Locked Message -->
            <div id="lockedMessage" class="hidden glass-card p-8 text-center">
                <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i data-feather="lock" class="text-red-500 w-8 h-8"></i>
                </div>
                <h2 class="text-2xl font-bold text-red-600 mb-2">Accès Bloqué</h2>
                <p class="text-gray-600 mb-4">Vous avez dépassé le nombre maximum de tentatives autorisées.</p>
                <p class="text-gray-500 text-sm">Veuillez contacter l'administrateur pour réinitialiser l'accès.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Vanta.js background
            VANTA.WAVES({
                el: "#vanta-bg",
                mouseControls: true,
                touchControls: true,
                gyroControls: false,
                minHeight: 200.00,
                minWidth: 200.00,
                scale: 1.00,
                scaleMobile: 1.00,
                color: 0x4f46e5,
                shininess: 35.00,
                waveHeight: 15.00,
                waveSpeed: 0.75,
                zoom: 0.8
            });
            
            // Initialize Feather Icons
            feather.replace();
            
            // DOM Elements
            const passwordForm = document.getElementById('passwordForm');
            const passwordInput = document.getElementById('passwordInput');
            const passwordToggle = document.getElementById('passwordToggle');
            const errorMessage = document.getElementById('errorMessage');
            const attemptsCounter = document.getElementById('attemptsCounter');
            const passwordSection = document.getElementById('passwordSection');
            const appContainer = document.getElementById('appContainer');
            const lockedMessage = document.getElementById('lockedMessage');
            const appsGrid = document.getElementById('appsGrid');
            
            const generateurBtn = document.getElementById('generateurBtn');
            const daoBtn = document.getElementById('daoBtn');
            const situationBtn = document.getElementById('situationBtn');
            const seancesBtn = document.getElementById('seancesBtn');
            const soumissionnairesBtn = document.getElementById('soumissionnairesBtn');
            const referentielBtn = document.getElementById('referentielBtn');
            const delaisBtn = document.getElementById('delaisBtn');
            const backBtn = document.getElementById('backBtn');
            const generateurFrameContainer = document.getElementById('generateurFrameContainer');
            const daoFrameContainer = document.getElementById('daoFrameContainer');
            const situationFrameContainer = document.getElementById('situationFrameContainer');
            const seancesFrameContainer = document.getElementById('seancesFrameContainer');
            const soumissionnairesFrameContainer = document.getElementById('soumissionnairesFrameContainer');
            const referentielFrameContainer = document.getElementById('referentielFrameContainer');
            const delaisFrameContainer = document.getElementById('delaisFrameContainer');
            
            const correctPassword = '1111';
            let attempts = 3;
            
            // Toggle password visibility
            passwordToggle.addEventListener('click', function() {
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    passwordToggle.innerHTML = feather.icons['eye-off'].toSvg();
                } else {
                    passwordInput.type = 'password';
                    passwordToggle.innerHTML = feather.icons['eye'].toSvg();
                }
            });
            
            // Form submission
            passwordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const enteredPassword = passwordInput.value.trim();
                
                if (enteredPassword === correctPassword) {
                    // Correct password
                    passwordSection.classList.add('animate-bounce-once');
                    setTimeout(() => {
                        passwordSection.style.display = 'none';
                        appContainer.style.display = 'block';
                    }, 500);
                } else {
                    // Incorrect password
                    attempts--;
                    attemptsCounter.textContent = `Tentatives restantes: ${attempts}`;
                    passwordInput.classList.add('border-red-500', 'animate-bounce-once');
                    errorMessage.classList.remove('hidden');
                    
                    setTimeout(() => {
                        passwordInput.classList.remove('animate-bounce-once');
                    }, 500);
                    
                    // Clear input
                    passwordInput.value = '';
                    passwordInput.focus();
                    
                    // Check if attempts are exhausted
                    if (attempts <= 0) {
                        passwordSection.style.display = 'none';
                        lockedMessage.style.display = 'block';
                    }
                }
            });
            
            // Reset error state on input
            passwordInput.addEventListener('input', function() {
                if (this.classList.contains('border-red-500')) {
                    this.classList.remove('border-red-500');
                    errorMessage.classList.add('hidden');
                }
            });
            
            // App buttons functionality
            function showAppFrame(frameContainer) {
                appsGrid.style.display = 'none';
                frameContainer.style.display = 'block';
                backBtn.style.display = 'flex';
                
                // Hide other frames
                [generateurFrameContainer, daoFrameContainer, situationFrameContainer, seancesFrameContainer, soumissionnairesFrameContainer, referentielFrameContainer, delaisFrameContainer]
                    .forEach(frame => {
                        if (frame !== frameContainer) frame.style.display = 'none';
                    });
            }
            
            generateurBtn.addEventListener('click', () => showAppFrame(generateurFrameContainer));
            daoBtn.addEventListener('click', () => showAppFrame(daoFrameContainer));
            situationBtn.addEventListener('click', () => showAppFrame(situationFrameContainer));
            seancesBtn.addEventListener('click', () => showAppFrame(seancesFrameContainer));
            soumissionnairesBtn.addEventListener('click', () => showAppFrame(soumissionnairesFrameContainer));
            referentielBtn.addEventListener('click', () => showAppFrame(referentielFrameContainer));
            delaisBtn.addEventListener('click', () => showAppFrame(delaisFrameContainer));
            
            backBtn.addEventListener('click', function() {
                appsGrid.style.display = 'grid';
                backBtn.style.display = 'none';
                
                // Hide all frames
                [generateurFrameContainer, daoFrameContainer, situationFrameContainer, seancesFrameContainer, soumissionnairesFrameContainer, referentielFrameContainer, delaisFrameContainer]
                    .forEach(frame => frame.style.display = 'none');
            });
        });
    </script>
</body>
</html>
